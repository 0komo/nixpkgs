Based on upstream https://github.com/unicorn-engine/unicorn/commit/c733bbada356b0373fa8aa72c044574bb855fd24.patch
adapted by ris to apply to 1.0.2

--- a/uc.c
+++ b/uc.c
@@ -864,7 +864,8 @@ static bool split_region(struct uc_struct *uc, MemoryRegion *mr,
         break;
 
     QTAILQ_FOREACH(block, &uc->ram_list.blocks, next) {
-        if (block->offset <= mr->addr && block->length >= (mr->end - mr->addr)) {
+        // block->offset is the offset within ram_addr_t, not GPA
+        if (block->mr->addr <= mr->addr && block->length >= (mr->end - mr->addr)) {
             break;
         }
 
